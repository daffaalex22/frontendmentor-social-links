<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Animated Birthday Card</title>
  <link rel="stylesheet" href="birthday-card.css">
</head>
<body>
  <!-- Animation Step Selector -->
  <div class="animation-selector collapsed" id="animationSelector">
    <div class="animation-selector-header" onclick="toggleAnimationSelector()">
      <span class="animation-selector-title">üéÇ Animation Controls</span>
      <span class="animation-selector-toggle">‚ñº</span>
    </div>
    <div class="animation-selector-content" id="animationSelectorContent">
      <label for="animationStep">Animation Step</label>
      <select id="animationStep">
        <option value="0">No Animation</option>
        <option value="1">1. Birthday Message Fade-in</option>
        <option value="2">2. Floating Balloons</option>
        <option value="3">3. Flickering Candle Flames</option>
        <option value="4">4. Falling Confetti</option>
        <option value="5">5. Bouncing Gift Box</option>
        <option value="6" selected>6. Complete Birthday Party!</option>
      </select>
      <div class="current-step" id="currentStep">Step 6: Complete Birthday Party!</div>
      
      <!-- Refresh Button -->
      <button class="refresh-btn" id="refreshBtn" onclick="refreshCurrentAnimation()">
        üîÑ Refresh Animation
      </button>
      
      <!-- Build Instructions Button (only shown for No Animation) -->
      <button class="build-instructions-btn" id="buildInstructionsBtn" onclick="goToBuildInstructions()" style="display: none;">
        üìù Build Your Own Birthday Card
      </button>
    </div>
  </div>

  <!-- Code Viewer -->
  <div class="code-viewer collapsed" id="codeViewer">
    <div class="code-viewer-header" onclick="toggleCodeViewer()">
      <span class="code-viewer-title">üìù Code Viewer</span>
      <span class="code-viewer-toggle">‚ñº</span>
    </div>
    <div class="code-viewer-content" id="codeViewerContent">
      <div class="code-snippet" id="codeSnippet">
        Select an animation step to see the code
      </div>
    </div>
  </div>

  <div class="birthday-container">
    <!-- Birthday Card -->
    <div class="birthday-card">
      <!-- Happy Birthday Text -->
      <div class="birthday-message">
        <h1 class="happy-text">Happy Birthday!</h1>
        <p class="wishes-text">Hope your day is amazing!</p>
      </div>

      <!-- Birthday Cake -->
      <div class="cake-container">
        <div class="cake">
          <div class="cake-layer bottom-layer"></div>
          <div class="cake-layer middle-layer"></div>
          <div class="cake-layer top-layer"></div>
          <div class="cake-plate"></div>
        </div>
        
        <!-- Candles -->
        <div class="candles">
          <div class="candle">
            <div class="flame"></div>
          </div>
          <div class="candle">
            <div class="flame"></div>
          </div>
          <div class="candle">
            <div class="flame"></div>
          </div>
        </div>
      </div>

      <!-- Balloons -->
      <div class="balloons-container">
        <div class="balloon red-balloon">
          <div class="balloon-string"></div>
        </div>
        <div class="balloon blue-balloon">
          <div class="balloon-string"></div>
        </div>
        <div class="balloon yellow-balloon">
          <div class="balloon-string"></div>
        </div>
        <div class="balloon green-balloon">
          <div class="balloon-string"></div>
        </div>
        <div class="balloon purple-balloon">
          <div class="balloon-string"></div>
        </div>
      </div>

      <!-- Confetti -->
      <div class="confetti-container">
        <div class="confetti-piece confetti-1"></div>
        <div class="confetti-piece confetti-2"></div>
        <div class="confetti-piece confetti-3"></div>
        <div class="confetti-piece confetti-4"></div>
        <div class="confetti-piece confetti-5"></div>
        <div class="confetti-piece confetti-6"></div>
        <div class="confetti-piece confetti-7"></div>
        <div class="confetti-piece confetti-8"></div>
        <div class="confetti-piece confetti-9"></div>
        <div class="confetti-piece confetti-10"></div>
        <div class="confetti-piece confetti-11"></div>
        <div class="confetti-piece confetti-12"></div>
      </div>

      <!-- Gift Box -->
      <div class="gift-container">
        <div class="gift-box">
          <div class="gift-lid"></div>
          <div class="gift-ribbon"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add anime.js v4+ library via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/animejs/dist/bundles/anime.umd.min.js"></script>
  
  <!-- Link to our animation script -->
  <script src="birthday-card.js"></script>
</body>
</html>